# yaml-language-server: $schema=https://api.cerbos.dev/latest/cerbos/policy/v1/Policy.schema.json
apiVersion: api.cerbos.dev/v1
resourcePolicy:
  version: "default"
  importDerivedRoles:
    - common_roles
  resource: "metric_consensus_genome"
  rules:
    - actions: ['view', 'create', 'update']
      effect: EFFECT_ALLOW
      derivedRoles:
        - project_member

    - actions: ['download']
      effect: EFFECT_ALLOW
      derivedRoles:
        - owner
  schemas:
    principalSchema:
      ref: cerbos:///principal.json